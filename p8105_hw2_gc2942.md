HW2
================

\#\#Problem 1

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(dplyr)
```

``` r
Trash_data = 
  readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N533" ,
    na  = "")  %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = round(sports_balls))
```

``` r
precipitation_2019_data = 
    readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
    sheet = "2019 Precipitation",
    range = "A2:B14") %>%
    mutate(year = "2019")

precipitation_2018_data =
     readxl::read_excel(
    "./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>%
    mutate(year = "2018")
precipitation_df =  bind_rows(precipitation_2019_data,precipitation_2018_data) %>%
  janitor::clean_names() %>%
  mutate(month = month.name[month])
```

In Mr. Trash Wheel data set, it has 453 and contains dumpster, month,
year, date, weight\_tons, volume\_cubic\_yards, plastic\_bottles,
polystyrene, cigarette\_butts, glass\_bottles, grocery\_bags,
chip\_bags, sports\_balls, homes\_powered variables. In the combination
of precipitation, it has 24 and there are month, total, year in the
precipitation. The total precipitation in 2018 70.33. The median number
of sports balls in a dumpster in 2019 is9.

\#\#Problem 2

\#\#Problem 3

``` r
Baby_df = 
   read_csv("./data/Popular_Baby_Names.csv") %>%
   janitor::clean_names() %>%   
   mutate(ethnicity = recode(ethnicity, "ASIAN AND PACI" = "ASIAN AND PACIFIC ISLANDER","WHITE NON HISP" = "WHITE NON HISPANIC", "BLACK NON HISP" = "BLACK NON HISPANIC")) %>%
   mutate(childs_first_name = toupper(childs_first_name)) %>%
   distinct(childs_first_name,year_of_birth,gender,ethnicity,.keep_all = TRUE) %>%
   filter(childs_first_name == "OLIVIA", gender == "FEMALE") 
```

    ## Rows: 19418 Columns: 6

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
Baby_df %>%
  janitor::clean_names() %>%
  arrange(year_of_birth) %>%
  pivot_wider(
    names_from = "year_of_birth",
    values_from = "rank"
  ) %>%
  select(-count) %>%
  relocate(childs_first_name,gender,ethnicity)
```

    ## # A tibble: 23 × 9
    ##    childs_first_name gender ethnicity  `2011` `2012` `2013` `2014` `2015` `2016`
    ##    <chr>             <chr>  <chr>       <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>
    ##  1 OLIVIA            FEMALE ASIAN AND…      4     NA     NA     NA     NA     NA
    ##  2 OLIVIA            FEMALE BLACK NON…     10     NA     NA      8     NA     NA
    ##  3 OLIVIA            FEMALE HISPANIC       18     NA     NA     NA     NA     NA
    ##  4 OLIVIA            FEMALE WHITE NON…      2     NA     NA     NA     NA     NA
    ##  5 OLIVIA            FEMALE ASIAN AND…     NA      3     NA     NA     NA     NA
    ##  6 OLIVIA            FEMALE BLACK NON…     NA      8     NA     NA     NA     NA
    ##  7 OLIVIA            FEMALE HISPANIC       NA     22     NA     NA     NA     NA
    ##  8 OLIVIA            FEMALE WHITE NON…     NA      4     NA     NA     NA     NA
    ##  9 OLIVIA            FEMALE ASIAN AND…     NA     NA      3     NA     NA     NA
    ## 10 OLIVIA            FEMALE BLACK NON…     NA     NA      6     NA     NA     NA
    ## # … with 13 more rows

In this problem, I use OLIVIA and ASIAN AND PACIFIC ISLANDER, BLACK NON
HISPANIC, HISPANIC, WHITE NON HISPANIC to check the change of string
variable over time.

``` r
Baby_male_df = 
  read_csv("./data/Popular_Baby_Names.csv") %>%
   janitor::clean_names() %>%   
   mutate(ethnicity = recode(ethnicity, "ASIAN AND PACI" = "ASIAN AND PACIFIC ISLANDER","WHITE NON HISP" = "WHITE NON HISPANIC", "BLACK NON HISP" = "BLACK NON HISPANIC")) %>%
   mutate(childs_first_name = toupper(childs_first_name)) %>%
   distinct(childs_first_name,year_of_birth,gender,ethnicity,.keep_all = TRUE) %>%
   filter(gender == "MALE",rank == 1) %>%
   pivot_wider(
    names_from = "year_of_birth",
    values_from = "rank"
    ) %>%
   janitor::clean_names() %>%
   relocate(gender,childs_first_name)
```

    ## Rows: 19418 Columns: 6

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
children_2016 = 
   read_csv("./data/Popular_Baby_Names.csv") %>%
   janitor::clean_names() %>% 
   mutate(ethnicity = recode(ethnicity, "ASIAN AND PACI" = "ASIAN AND PACIFIC ISLANDER","WHITE NON HISP" = "WHITE NON HISPANIC", "BLACK NON HISP" = "BLACK NON HISPANIC")) %>%
   distinct(childs_first_name,year_of_birth,gender,ethnicity,.keep_all = TRUE) %>%
   filter(gender == "MALE",ethnicity == "WHITE NON HISPANIC", year_of_birth == 2016) %>%
   ggplot(aes(rank, count)) + geom_point()
```

    ## Rows: 19418 Columns: 6

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
